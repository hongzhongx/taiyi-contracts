<h1 align='center'>太乙天道实践</h1>

这是[太乙网络](https://github.com/hongzhongx/taiyi)的天道实践项目，这里有能在大傩世界运行的各种智能游戏脚本（SGS）样例和实践。

太乙网络中的大傩世界，本身是一套规则的集合体，这些规则（即天道）在大傩世界的建设中不断形成和演化，他们本身是由智能游戏脚本来实现的。这些智能游戏脚本类似于区块链上的智能合约，运行他们的虚拟机的信息详见[太乙网络虚拟机](https://github.com/hongzhongx/taiyi?tab=readme-ov-file#%E4%B8%BA%E4%BB%80%E4%B9%88%E7%94%A8lua%E4%BD%9C%E4%B8%BA%E6%99%BA%E8%83%BD%E6%B8%B8%E6%88%8F%E8%84%9A%E6%9C%AC%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%80%8C%E4%B8%8D%E6%98%AFevmwasmv8%E6%88%96%E8%80%85docker%E7%AD%89%E7%AD%89)。

# 简单天道合约实验

[samples](./samples)目录下有一些简单的合约代码，用于实验一些基本天道，这些代码可以直接部署进太乙天道网络里直接调用。

# 游戏建设实践

## 介绍

游戏设计中，无论是网络游戏（MMO）还是单机游戏，通常由产品设计或者策划预先设计好游戏的逻辑、世界结构、物品、人物以及相关的数值。即使某些游戏系统支持“热更新”，通常也仅有游戏的运营方才有操作的权限。

在基于[太乙网络](https://github.com/hongzhongx/taiyi)的“大傩世界”游戏中，游戏的各个方面是由任意参与者匿名地创建的，而且是逐渐建立起来而不是一次性预先设计好。

这里我们持续探索一个去中心化的设计方法，通过在一个初始的太乙网络上创建角色并持续建设“大梁”和“牛心村”等地区的过程，来形成各种实践标准和改进建议。我们目前通过一个[玄牝工具（简称xuanpin）](https://github.com/hongzhongx/taiyi/blob/main/programs/xuanpin)来设计这个世界。

注意，这只是游戏的设计过程而不是“大傩世界”游戏的玩家Play过程，游戏本身需要玩家通过诸如类似“[大傩世界MUD客户端（简称danuo）](https://github.com/hongzhongx/taiyi/blob/main/programs/danuo)”的方式来游玩。然而，由去中心化带来的虚拟世界`物质实在性`让建设过程具有历史因果性，使得这种多人分布式设计游戏的过程变得和游戏本身的体验相似，即——建设即游戏。

## 实践案例

1. [【实践一】从创建账号，到建立原始的区域](./doc/practice01.md)
2. [【实践二】创建角色“李火旺”，并且在牛心村出生](./doc/practice02.md)
3. [【实践三】升级“牛心村”，并创建牛心村入口“村口亭”](./doc/practice03.md)
4. [【实践四】让“普通百姓”升级到“修真者”](./doc/practice04.md)

# 一些实验物品/法宝/道具（NFA）

## 炼天塔

`炼天塔`是混沌宇宙自生的一个法宝，能够将塔内聚集的`混沌元气`转换为最初的物质，例如`金石`。

炼天塔在天道运行时自动运转，其内禀天道代码参见：[nfas/liantianta.lua](./nfas/liantianta.lua)
    
- 其中心跳行为“heart_beat”在天道运行中被自动执行，当塔内元气之力不足时，停止运转。
- “active”行为被炼天塔的所有者在玄牝操作，用于激活炼天塔的再次运转。

## 经书和残页

`残页`记载着一些文字、图案和符号，而`经书`则是残页页面的组合。

残页的内禀天道代码参见：[nfas/book/page.lua](./nfas/book/page.lua)

- 残页拥有者通过运行“write”操作，来对残页写入文本。

经书的内禀天道代码参见：[nfas/book/book.lua](./nfas/book/book.lua)

- 经书的拥有者通过运行“set_page”操作来将残页装订进来。

## 接界符

`接界符`是一种一次性法宝，通过消耗体内大量`混沌元气`来将两个区域相连接。

`接界符`的内禀天道代码详见：[nfas/jiejiefu.lua](./nfas/jiejiefu.lua)

- 除了心跳和激活行为操作外，接界符增加了“setup”操作来设置要连接的源头区域和目标区域
- “place_in”和“take_out”操作则只是用于放置接界符，比如仅仅放置进口袋里

## 育田珠

`育田珠`是混沌宇宙自生的另一种法宝，能够将体内`混沌元气`转化为可产出食物的动植物灵气。如果把`育田珠`安置在一个区域上，一旦被激活，它就会自行运转开始转化元气在这个区域里化生出食物来，在成功转化一定量的元气后，`育田珠`甚至能将该区域改造成一片`农田`。

`育田珠`的内禀天道代码详见：[nfas/yutianzhu.lua](./nfas/yutianzhu.lua)

- 除了心跳和激活行为操作外，育田珠增加了“install”和“uninstall”操作来安装到区域上或者从区域中取出来。这个操作对安装的地区有影响（增加了它的内含物品），因此要求发起人要同时具有安装地区的操作权限
- “place_in”和“take_out”操作则只是用于放置育田珠，比如仅仅放置进口袋里。这个操作对安装的地区有影响（增加了它的内含物品），因此要求发起人要同时具有安装地区的操作权限

## 衍童石

`衍童石`是混沌宇宙自生的一种法宝，使用者把`衍童石`放置在一个地区，那么通过衍童石，就可以在这个地区上让角色出生。

`衍童石`的内禀天道代码详见：[nfas/yantongshi.lua](./nfas/yantongshi.lua)

- 衍童石有一个“born_actor”操作，通过这个操作可以让角色以指定的性别、性取向和初始属性点来出生。出生地由衍童石所驻地决定，因此做这个操作之前需要将衍童石通过“set_zone”设置某个地区
- 衍童石一个特殊的操作是“upgrade_actor”，这个操作可以升级角色的内禀天道，目前是将角色的主合约升级到“contract.actor.normal”
- “set_zone”操作则只是用于注册衍童石到某地，比如注册在`牛心村`地区。这个操作对牛心村地区没有任何影响，因此不需要发起人同时对牛心村地区有修改权限

## 太虚符

`太虚符`是元神界通用的一种一次性法宝，需要元神灌注真力驱动，将指定区域所运转的天道整体改变。

- 太虚符激活后直接将设置好的目标区域内禀天道升级为指定的天道合约

# 一些实验的角色天赋规则

## 乐观

`乐观`这个天赋可以让角色在出生的时候`情绪（快乐）`属性+5

规则代码详见：[talents/leguan.lua](./talents/leguan.lua)

## 天赋异禀

`天赋异禀`这个天赋可以让角色在出生的时候可以赋予各种初始属性点总上限额外+20

规则代码详见：[talents/tianfuyiding.lua](./talents/tianfuyiding.lua)

